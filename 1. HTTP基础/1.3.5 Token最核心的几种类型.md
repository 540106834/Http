ä½ è¯´ **token** åœ¨ HTTPã€APIã€è®¤è¯ä½“ç³»é‡Œæœ‰å¤šç§å«ä¹‰ã€‚
ä¸ºäº†ç»™ä½ æœ€å‡†ç¡®çš„å†…å®¹ï¼Œæˆ‘å…ˆæŠŠâ€œTokenâ€æœ€æ ¸å¿ƒçš„å‡ ç§ç±»å‹åˆ—å‡ºæ¥ï¼Œä½ çœ‹çœ‹ä½ æ˜¯è¦å“ªä¸€ç§ã€‚


#  1. HTTP Tokenï¼ˆAuthorization å¤´ï¼‰

æœ€å¸¸ç”¨ï¼šHTTP è¯·æ±‚å¤´é‡Œçš„ **Bearer Token**ã€‚

## è¯·æ±‚æ ¼å¼ï¼ˆæœ€æ ‡å‡†ï¼‰

```
GET /api/v1/user HTTP/1.1
Host: example.com
Authorization: Bearer <TOKEN>
```

ä¾‹å¦‚ï¼š

```
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...
```

### Token ç”¨é€”ï¼š

* REST API è®¤è¯
* å¾®æœåŠ¡ä¹‹é—´é€šä¿¡
* Kubernetes API Server
* Prometheus â†’ Alertmanager å‘é€ alertsï¼ˆå¦‚æœä½ é…ç½®äº† authï¼‰

---

#  2. JWT Tokenï¼ˆJSON Web Tokenï¼‰

å¾ˆå¸¸è§çš„ Web ç™»å½• Tokenï¼Œç»“æ„ï¼š

```
header.payload.signature
```

ä¾‹å¦‚ï¼š

```
eyJhbGci...<header>.<payload>.Q3kHF4...<signature>
```

JWT æ˜¯**è‡ªåŒ…å«ï¼ˆSelf-containedï¼‰**ï¼Œé‡Œé¢èƒ½å­˜ï¼šç”¨æˆ·åã€è§’è‰²ã€è¿‡æœŸæ—¶é—´ç­‰ã€‚

---

#  3. CSRF Token

ç”¨äºæµè§ˆå™¨é˜²è·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚

æ ¼å¼ä¸€èˆ¬æ˜¯æœåŠ¡ç«¯éšæœºç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼š

```
X-CSRF-Token: 8c620afe20e15db...
```

---

#  4. API Token / Access Token

æœ€ç®€å•ç±»å‹ï¼šçº¯å­—ç¬¦ä¸²ï¼Œç”±åç«¯ç”Ÿæˆï¼š

```
X-API-Key: 05cf18e1-87db-4b63-9c15
```

ç”¨äºï¼š

* è°ƒç”¨ç¬¬ä¸‰æ–¹ API
* Prometheus remote_write è®¿é—®ç½‘å…³
* Alertmanager é€šçŸ¥å¤–éƒ¨ç³»ç»Ÿ

---

#  5. OAuth Tokenï¼ˆAccess Token + Refresh Tokenï¼‰

OAuth 2.0 æ ‡å‡†ï¼š

```
access_token: æœ‰æ•ˆæœŸçŸ­
refresh_token: ç”¨æ¥åˆ·æ–° access_token
```

---

#  6. Kubernetes Bearer Token

ä½ å¾ˆå¸¸é‡åˆ°çš„ Kubernetes è®¤è¯ï¼š

```
Authorization: Bearer <k8s-service-account-token>
```

Prometheus å¸¸ç”¨å®ƒå» scrape kubelet / API Serverã€‚

---

# ğŸŸ¢ ä½ æƒ³è¦å“ªä¸€ç§ Token çš„è§£é‡Šï¼Ÿ

å¯èƒ½ä½ æŒ‡çš„æ˜¯ï¼š

âœ” Token åœ¨ HTTP è¯·æ±‚å¤´ä¸­å¦‚ä½•ä½¿ç”¨ï¼Ÿ
âœ” Token çš„æ ¼å¼è¦æ±‚ï¼Ÿ
âœ” Token å’Œ Cookie çš„åŒºåˆ«ï¼Ÿ
âœ” Prometheus / Alertmanager å¦‚ä½•ä½¿ç”¨ Tokenï¼Ÿ
âœ” Python ä»£ç å¦‚ä½•å‘é€ Tokenï¼Ÿ

å‘Šè¯‰æˆ‘ä½ åœ¨ä»€ä¹ˆåœºæ™¯é‡Œé‡åˆ° â€œtokenâ€
ï¼ˆHTTPï¼ŸPrometheusï¼ŸAlertmanagerï¼ŸK8sï¼ŸPythonï¼Ÿï¼‰
æˆ‘é©¬ä¸Šç»™ä½ å…·ä½“ç‰ˆæœ¬ã€‚
