下面给你最清晰、最开发者视角的：

#  **PATCH vs PUT vs POST —— 一次讲到你完全不再混淆**

---

#  一句话总结（记住这 3 句就不会错）

| 方法        | 专业一句话       | 你可以这样理解              |
| --------- | ----------- | -------------------- |
| **POST**  | 创建资源（或执行动作） | “新增 / 提交”            |
| **PUT**   | 整体替换资源      | “全量更新：我给你一份新的，请全部覆盖” |
| **PATCH** | 部分更新资源      | “局部更新：只改我给你的字段”      |

---

#  一、**POST（创建、提交）**

### 什么时候用？

* 创建新资源（新增用户、发帖子）
* 执行某个动作（登录、下单、发送验证码）
* 上传数据（不一定是新增，也可以是处理任务）

### 特点

* 服务器生成资源 ID
* 请求语义不是幂等（多次调用可能创建多条数据）
* 可以多种 Content-Type（JSON, form-data, 上传文件）

### 示例

```
POST /api/users
{
  "name": "Tom",
  "age": 18
}
```

返回：

```
201 Created
{id: 1001, name:"Tom", age:18}
```

---

#  二、**PUT（整体更新 / 替换）**

### 什么时候用？

* **替换整个资源**
* 资源 ID 必须已存在
* 发送的数据 = 新资源的“完整状态”

### 特点

* 幂等（发送 100 次效果一样）
* 不发送的字段会被“覆盖成空”或默认值

### 示例

```
PUT /api/users/1001
{
  "name": "Tom",
  "age": 20
}
```

如果原来是：

```
{
  "name": "Tom",
  "age": 18,
  "email": "xx@xx.com"
}
```

PUT 后新的资源变成：

```
{
  "name": "Tom",
  "age": 20
}
```

 **email 会被删掉**（因为你没提供）。

这就是 PUT 的核心：**你提供的，覆盖；你没提供的，我删掉。**

---

# 🔍 三、**PATCH（部分更新）**

### 什么时候用？

* 仅修改部分字段
* 不希望影响其他字段

### 特点

* 非幂等（视是否设计）
* 只更新你传的字段

### 示例

```
PATCH /api/users/1001
{
  "age": 20
}
```

更新结果：

```
{
  "name": "Tom",      ← 保留
  "age": 20,          ← 只改你传的字段
  "email": "xx@xx.com"
}
```

---

#  终极总结图（最容易记住）

| 特点          | POST      | PUT         | PATCH  |
| ----------- | --------- | ----------- | ------ |
| 目的          | 新增 / 提交动作 | 整体替换资源      | 局部修改资源 |
| 有没有请求体      | 有         | 有           | 有      |
| 是否幂等        | ❌ 否       | ✔ 是         | ⚠ 视设计  |
| 更新时是否需要完整数据 | ❌ 不需要     | ✔ 需要        | ❌ 不需要  |
| 不传字段会怎么样？   | 无意义       | ⚠ 删除/覆盖为默认值 | ✔ 保留原值 |

---

#  最贴近实际开发理解

### ✔ 修改一个字段

→ 用 PATCH

### ✔ 更新整条数据（完整对象）

→ 用 PUT

### ✔ 创建一条新数据

→ 用 POST

### ✔ 登录、发送验证码、执行动作

→ 用 POST（不是创建资源，而是动作型接口）

---

#  想继续深入吗？

我可以给你：

1. **三者在浏览器构造的 HTTP 报文对比图（非常直观）**
2. **三者在 REST API 中最佳实践**
3. **真正的企业后端如何设计 PATCH / PUT / POST**

你想要哪一个？
